<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Profile - Car Game</title>
    <link rel="shortcut icon" href="favicon/favicon.ico" />
    <link rel="icon" type="image/gif" href="favicon/animated_favicon1.gif" />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="overlay"></div>
    <div class="profile-container">
      <header class="profile-header">
        <h1>🏁 Profile 🏁</h1>
      </header>

      <section class="profile-details">
        <div id="img" class="profile-pic"></div>
        <div class="user-info">
          <p><strong>Name:</strong> <span id="userName">Loading...</span></p>
          <p><strong>Email:</strong> <span id="userEmail">Loading...</span></p>
        </div>
      </section>

      <section class="race-history">
        <h2>Race History</h2>
        <div class="history-tabs">
          <div class="tab active" data-tab="single">🚗 Single Player</div>
          <div class="tab" data-tab="multi">🏎️ Multiplayer</div>
        </div>
        <div class="history-content">
          <ul id="singlePlayerHistory" class="history-list active">
            Loading...
          </ul>
          <ul id="multiPlayerHistory" class="history-list">
            Loading...
          </ul>
        </div>
      </section>

      <footer class="profile-footer">
        <div class="btn-group">
          <button class="btn" id="go-back">⬅ Go Back</button>
          <button class="btn logout" id="logout-btn">🚪 Logout</button>
        </div>
      </footer>
    </div>
    <script type="module" src="../../firebaseFunctions.js"></script>
    <script type="module" src="script.js"></script>
    <script>
      // Simple tab switching functionality for race history
      const tabs = document.querySelectorAll(".tab");
      const historyLists = document.querySelectorAll(".history-list");

      tabs.forEach((tab) => {
        tab.addEventListener("click", () => {
          // Remove active class from all tabs and history lists
          tabs.forEach((t) => t.classList.remove("active"));
          historyLists.forEach((list) => list.classList.remove("active"));

          // Activate the clicked tab and the corresponding list
          tab.classList.add("active");
          const tabName = tab.getAttribute("data-tab");
          if (tabName === "single") {
            document
              .getElementById("singlePlayerHistory")
              .classList.add("active");
          } else {
            document
              .getElementById("multiPlayerHistory")
              .classList.add("active");
          }
        });
      });
    </script>
  </body>
</html>
